(()=>{"use strict";const e=window.matchMedia("(max-width: 991.98px)");function t(e,t){for(let n of e)n.classList.remove(t)}function n(e){var t=.1;e.style.opacity=t,e.style.display="block";var n=setInterval((function(){t>=1&&clearInterval(n),e.style.opacity=t,t+=.1*t}),15)}var r,o;(()=>{let e=document.querySelector(".map");function t(){"undefined"!=typeof ymaps&&(document.getElementById("ymap"),ymaps.ready((function(){let e=new ymaps.Map("ymap",{center:[55.9823072874419,92.89464922321378],zoom:16,controls:["zoomControl"],behaviors:["drag"]}),t=new ymaps.Placemark([55.98332756875584,92.89800849999992],{hintContent:"BIGFORMAT"},{iconLayout:"default#image",iconImageHref:"img/marker.svg",iconImageSize:[75,92],iconImageOffset:[-40,-95]});function n(){window.innerWidth<"767"?e.setCenter([55.98365058108414,92.89771761825823]):window.innerWidth<"992"?e.setCenter([55.9836064830893,92.89366217029631]):e.setCenter([55.9823072874419,92.89464922321378])}n(),e.geoObjects.add(t),window.onresize=function(){n()}})))}function n(){let r=e.getBoundingClientRect().top,o=window.pageYOffset,i=r+o;o+window.innerHeight>i&&(function(){let e=document.createElement("script");e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",document.body.appendChild(e),e.onload=t}(),window.removeEventListener("scroll",n))}e&&(window.addEventListener("scroll",n),n())})(),(()=>{let e=document.querySelectorAll("input[data-tel-input]");for(let t of e)t.addEventListener("keydown",o),t.addEventListener("input",r,!1),t.addEventListener("paste",n,!1);function t(e){return e.value.replace(/\D/g,"")}function n(e){let n=e.target,r=t(n),o=e.clipboardData||window.clipboardData;if(o){let e=o.getData("Text");if(/\D/g.test(e))return void(n.value=r)}}function r(e){let n=e.target,r=t(n),o=n.selectionStart,i="";if(!r)return n.value="";if(n.value.length==o){if(["7","8","9"].indexOf(r[0])>-1){"9"==r[0]&&(r="7"+r);let e="8"==r[0]?"8":"+7";i=n.value=e+" ",r.length>1&&(i+="("+r.substring(1,4)),r.length>=5&&(i+=") "+r.substring(4,7)),r.length>=8&&(i+="-"+r.substring(7,9)),r.length>=10&&(i+="-"+r.substring(9,11))}else i="+"+r.substring(0,16);n.value=i}else e.data&&/\D/g.test(e.data)&&(n.value=r)}function o(e){let t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")}})(),(()=>{const e=document.querySelectorAll("form");if(e.length)for(let n=0;n<e.length;n++)e[n].addEventListener("submit",t);async function t(e){e.preventDefault(),function(e){let t=e.querySelectorAll("._req");for(let e=0;e<t.length;e++){const i=t[e];r(i),i.classList.contains("_email")?o(i)||(n(i)):"checkbox"!==i.type||i.checked?""==i.value&&(n(i)):(n(i))}}(this)}const n=e=>{e.classList.add("_error"),e.parentElement.classList.add("_error")},r=e=>{e.classList.remove("_error"),e.parentElement.classList.remove("_error")},o=e=>/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)})(),r=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(o=new Image).onload=o.onerror=function(){r(2==o.height)},o.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",(()=>{const e=document.querySelector(".bottom-header__burger"),t=document.querySelector(".mobile-header");e.addEventListener("click",(()=>{e.classList.toggle("_active"),t.classList.toggle("_active"),document.body.classList.toggle("_lock")}))})(),function(){const t=document.querySelector(".catalog-page .catalog__btn");if(t&&e.matches){const e=document.querySelectorAll(".catalog-page .catalog__right .item-catalog");t.addEventListener("click",(()=>{for(const t of e)n(t);t.style.display="none"}))}}(),function(){function e(e,t){t.style.overflow="hidden",e.setAttribute("data-state","")}if(document.querySelectorAll("._select").length){const n=document.querySelectorAll("._select__title"),r=document.querySelectorAll("._select__label"),o=document.querySelectorAll("._select__backdrop"),i=document.querySelectorAll("._select__input[checked]");window.addEventListener("DOMContentLoaded",(()=>{for(const e of i){const n=e.nextElementSibling,r=t(n),{title:o}=r;o.innerHTML=n.innerHTML}}));for(let r=0;r<n.length;r++){const o=n[r];o.addEventListener("click",(()=>{const n=t(o),{select:r}=n,{content:i}=n;var l,s;s=i,"active"===(l=r).getAttribute("data-state")?e(l,s):function(e,t){e.setAttribute("data-state","active");const n=+window.getComputedStyle(e).height.replace("px","");n*t.children.length>=3*n&&setTimeout((()=>{t.style.overflow="auto"}),400)}(l,s)}))}for(let n=0;n<r.length;n++){const o=r[n];o.addEventListener("click",(()=>{const n=t(o),{select:r}=n,{content:i}=n,{title:l}=n;l.innerHTML=o.innerHTML,e(r,i)}))}for(let n=0;n<o.length;n++){const r=o[n];r.addEventListener("click",(()=>{const n=t(r),{select:o}=n,{content:i}=n;e(o,i)}))}}function t(e){const t=e.closest("._select");return{select:t,content:t.querySelector("._select__content"),title:t.querySelector("._select__title")}}}(),document.querySelector(".slider-letter")&&new Swiper(".slider-letter",{slidesPerView:3,allowTouchMove:!1,speed:500,initialSlide:1,centeredSlides:!0,preventClicks:!1,preventClicksPropagation:!1,effect:"coverflow",coverflowEffect:{rotate:0,stretch:100,depth:200,modifier:3,slideShadows:!1},navigation:{nextEl:".letter__next",prevEl:".letter__prev"},pagination:{el:".letter__bullets",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1,centeredSlides:!1,effect:"slide",spaceBetween:10},768:{slidesPerView:3,centeredSlides:!0,effect:"coverflow",coverflowEffect:{rotate:0,stretch:100,depth:200,modifier:3,slideShadows:!1}}}}),document.querySelector(".examples__slider")&&new Swiper(".examples__slider",{loop:!0,slidesPerView:3,spaceBetween:34,speed:500,navigation:{nextEl:".examples__next",prevEl:".examples__prev"},pagination:{el:".examples__pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2},1300:{slidesPerView:3}}}),document.querySelector(".card-production__slider_design")&&new Swiper(".card-production__slider_design",{slidesPerView:1,speed:600,loop:!0,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".card-production__next_design",prevEl:".card-production__prev_design"},observeParents:!0,observeSlideChildren:!0,observer:!0}),document.querySelector(".card-production__slider_prod")&&new Swiper(".card-production__slider_prod",{slidesPerView:1,speed:600,loop:!0,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".card-production__next_prod",prevEl:".card-production__prev_prod"},observeParents:!0,observeSlideChildren:!0,observer:!0}),document.querySelector(".card-production__slider_montage")&&new Swiper(".card-production__slider_montage",{slidesPerView:1,speed:600,loop:!0,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".card-production__next_montage",prevEl:".card-production__prev_montage"},observeParents:!0,observeSlideChildren:!0,observer:!0}),document.querySelector(".popular__slider")&&new Swiper(".popular__slider",{slidesPerView:4,spaceBetween:27,speed:600,navigation:{nextEl:".popular__next",prevEl:".popular__prev"},pagination:{el:".popular__pagination",type:"bullets",clickable:!0},slidesPerGroup:2,breakpoints:{320:{spaceBetween:10,slidesPerView:2},768:{spaceBetween:33,slidesPerView:2},1200:{slidesPerView:4,spaceBetween:27}}}),document.querySelector(".sale__slider")&&new Swiper(".sale__slider",{slidesPerView:4,preventClicks:!0,slidesPerGroup:2,spaceBetween:27,speed:600,navigation:{nextEl:".sale__next",prevEl:".sale__prev"},pagination:{el:".sale__pagination",type:"bullets",clickable:!0},breakpoints:{320:{spaceBetween:10,slidesPerView:2},768:{spaceBetween:33,slidesPerView:2},1200:{slidesPerView:4,spaceBetween:27}}}),function(){const e=document.querySelectorAll("[data-tabs]");if(e.length)for(let t=0;t<e.length;t++)n(e[t]);function n(e){const n=Array.from(e.querySelectorAll("._tabs__tab")),r=e.querySelectorAll("._contents__content");for(let e=0;e<n.length;e++){const o=n[e];o.addEventListener("click",(()=>{const e=n.indexOf(o);t(n,"_active"),t(r,"_active"),o.classList.add("_active"),r[e].classList.add("_active")}))}}}(),function(){const e=document.querySelectorAll("._card-product__count");if(e.length)for(let n=0;n<e.length;n++)t(e[n]);function t(e){const t=e.querySelector("._card-product__plus"),r=e.querySelector("._card-product__minus");t.addEventListener("click",(()=>{const t=n(e);t.textContent=+t.textContent+1})),r.addEventListener("click",(()=>{const t=n(e);+t.textContent-1>=1&&(t.textContent=+t.textContent-1)}))}function n(e){return e.querySelector("._card-product__value")}}(),function(){const n=document.querySelector(".step"),r=e.matches?"click":"mouseover";var o=!1;if(n){const e=Array.from(n.querySelectorAll(".item-step__number")),l=n.querySelectorAll(".item-step__text"),s=n.querySelector(".step__number"),a=n.querySelector(".step__title");window.addEventListener("scroll",i),i();for(let n=0;n<e.length;n++){const i=e[n];i.addEventListener(r,(()=>{if(o){const n=e.indexOf(i);t(e,"_hovered");for(let t=0;t<=n;t++)e[t].classList.add("_hovered"),s.textContent=n+1,a.textContent=l[n].textContent}}))}}function i(){let e=n.getBoundingClientRect().top,t=window.pageYOffset,r=e+t;t+window.innerHeight/2>=r&&t<r+n.clientHeight&&(function(){let e=0;const t=Array.from(n.querySelectorAll(".item-step__number")),r=n.querySelectorAll(".item-step__text"),i=n.querySelector(".step__number"),l=n.querySelector(".step__title"),s=setInterval((()=>{i.textContent=e+1,l.textContent=r[e].textContent,t[e].classList.add("_hovered"),e++,e==t.length&&(clearInterval(s),o=!0)}),1e3)}(),window.removeEventListener("scroll",i))}}(),new class{constructor(e){this.type=e}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach((e=>{const t=e.dataset.da.trim().split(","),n={},r=!!t[3]&&t[3].trim();n.element=e,n.parent=e.parentNode,n.destination=document.querySelector(`${t[0].trim()}`),n.breakpoint=t[1]?t[1].trim():"767",n.place=t[2]?t[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),"tabs"===r&&(n.destination=e.closest(`${t[0].trim()}`)),this.оbjects.push(n)})),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map((({breakpoint:e})=>`(${this.type}-width: ${e}px),${e}`)).filter(((e,t,n)=>n.indexOf(e)===t)),this.mediaQueries.forEach((e=>{const t=e.split(","),n=window.matchMedia(t[0]),r=t[1],o=this.оbjects.filter((({breakpoint:e})=>e===r));n.addEventListener("change",(()=>{this.mediaHandler(n,o)})),this.mediaHandler(n,o)}))}mediaHandler(e,t){e.matches?t.forEach((e=>{e.index=this.indexInParent(e.parent,e.element),this.moveTo(e.place,e.element,e.destination)})):t.forEach((({parent:e,element:t,index:n})=>{t.classList.contains(this.daClassname)&&this.moveBack(e,t,n)}))}moveTo(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.append(t):"first"!==e?n.children[e].before(t):n.prepend(t)}moveBack(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){"min"===this.type?e.sort(((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint)):e.sort(((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint))}}("max").init()})();